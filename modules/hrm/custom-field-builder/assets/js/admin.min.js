!function(e){var t={};function l(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.m=e,l.c=t,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(r,o,function(t){return e[t]}.bind(null,o));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=783)}({1:function(e,t,l){"use strict";function r(e,t,l,r,o,s,i,a){var p,n="function"==typeof e?e.options:e;if(t&&(n.render=t,n.staticRenderFns=l,n._compiled=!0),r&&(n.functional=!0),s&&(n._scopeId="data-v-"+s),i?(p=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},n._ssrRegister=p):o&&(p=a?function(){o.call(this,(n.functional?this.parent:this).$root.$options.shadowRoot)}:o),p)if(n.functional){n._injectStyles=p;var d=n.render;n.render=function(e,t){return p.call(t),d(e,t)}}else{var u=n.beforeCreate;n.beforeCreate=u?[].concat(u,p):[p]}return{exports:e,options:n}}l.d(t,"a",(function(){return r}))},344:function(e,t,l){},657:function(e,t,l){"use strict";l(344)},783:function(e,t,l){"use strict";l.r(t);var r=function(){var e=this.$createElement,t=this._self._c||e;return this.shouldRender?t("people-extra-fields",{attrs:{"people-type":"customer",section:"top","people-id":this.peopleId}}):this._e()};r._withStripped=!0;var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.fields.length?l("div",{staticClass:"wperp-row wperp-gutter-20 cfb-fields"},e._l(e.fields,(function(t,r){return l("div",{key:"cfb-"+e.peopleType+"-"+e.section+"-"+r,staticClass:"wperp-form-group wperp-col-sm-6 wperp-col-xs-12"},[l("label",[e._v(e._s(t.label)+"\n            "),e.parseBool(t.required)?l("span",{staticClass:"wperp-required-sign"},[e._v("*")]):e._e()]),e._v(" "),"textarea"===t.type?l("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"wperp-form-field",attrs:{placeholder:t.placeholder,required:e.parseBool(t.required)},domProps:{value:t.value},on:{input:function(l){l.target.composing||e.$set(t,"value",l.target.value)}}}):"select"===t.type?l("div",{staticClass:"with-multiselect"},[l("multi-select",{attrs:{options:e.renameTextKey(t.options),placeholder:t.placeholder,required:e.parseBool(t.required)},model:{value:t.value,callback:function(l){e.$set(t,"value",l)},expression:"field.value"}})],1):"radio"===t.type?l("div",e._l(t.options,(function(r,o){return l("label",{key:"cfb-radio-"+e.peopleType+"-"+e.section+"-"+o},[l("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],attrs:{type:"radio",required:e.parseBool(t.required)},domProps:{value:r.value,checked:e._q(t.value,r.value)},on:{change:function(l){return e.$set(t,"value",r.value)}}}),e._v(" "),l("span",{staticClass:"field-label"},[e._v(e._s(r.text))])])})),0):"checkbox"===t.type?l("div",e._l(t.options,(function(r,o){return l("label",{key:"cfb-chkbx-"+e.peopleType+"-"+e.section+"-"+o,staticClass:"form-check-label"},[l("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{value:r.value,checked:Array.isArray(t.value)?e._i(t.value,r.value)>-1:t.value},on:{change:function(l){var o=t.value,s=l.target,i=!!s.checked;if(Array.isArray(o)){var a=r.value,p=e._i(o,a);s.checked?p<0&&e.$set(t,"value",o.concat([a])):p>-1&&e.$set(t,"value",o.slice(0,p).concat(o.slice(p+1)))}else e.$set(t,"value",i)}}}),e._v(" "),l("span",{staticClass:"field-label"},[e._v(e._s(r.text))])])})),0):"date"===t.type?l("datepicker",{staticStyle:{width:"100%"},model:{value:t.value,callback:function(l){e.$set(t,"value",l)},expression:"field.value"}}):"checkbox"===t.type?l("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"wperp-form-field",attrs:{placeholder:t.placeholder,required:e.parseBool(t.required),type:"checkbox"},domProps:{checked:Array.isArray(t.value)?e._i(t.value,null)>-1:t.value},on:{change:function(l){var r=t.value,o=l.target,s=!!o.checked;if(Array.isArray(r)){var i=e._i(r,null);o.checked?i<0&&e.$set(t,"value",r.concat([null])):i>-1&&e.$set(t,"value",r.slice(0,i).concat(r.slice(i+1)))}else e.$set(t,"value",s)}}}):"radio"===t.type?l("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"wperp-form-field",attrs:{placeholder:t.placeholder,required:e.parseBool(t.required),type:"radio"},domProps:{checked:e._q(t.value,null)},on:{change:function(l){return e.$set(t,"value",null)}}}):l("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"field.value"}],staticClass:"wperp-form-field",attrs:{placeholder:t.placeholder,required:e.parseBool(t.required),type:t.type},domProps:{value:t.value},on:{input:function(l){l.target.composing||e.$set(t,"value",l.target.value)}}})],1)})),0):e._e()};o._withStripped=!0;let s=acct_get_lib("HTTP"),i=acct_get_lib("Datepicker"),a=acct_get_lib("MultiSelect");var p={name:"PeopleExtraFields",data:()=>({fields:[]}),props:{peopleType:{type:String},section:{type:String},peopleId:{type:Number}},components:{Datepicker:i,MultiSelect:a},created(){this.getCustomerFields(),acct.hooks.addFilter("acctPeopleFieldsData","peoplesData",e=>(this.fields.forEach(t=>{"select"===t.type?acct.hooks.addFilter("acctPeopleFieldsError","peopleField",e=>("true"===t.required&&null===t.value.id&&e.push(t.label+" is required."),e)):"checkbox"===t.type?acct.hooks.addFilter("acctPeopleFieldsError","peopleField",e=>("true"!==t.required||t.value.length||e.push(t.label+" is required."),e)):"radio"===t.type&&acct.hooks.addFilter("acctPeopleFieldsError","peopleField",e=>("true"===t.required&&null===t.value&&e.push(t.label+" is required."),e)),e[t.name]=t.value}),e))},methods:{getCustomerFields(){s.get("/field-builder",{params:{type:this.peopleType,section:this.section}}).then(e=>{e.data.forEach(e=>{e.value=null,"checkbox"===e.type&&(e.value=[]),"select"===e.type&&(e.value={id:null,name:null}),this.fields.push(e)}),this.setFieldValue()})},setFieldValue(){this.fields.length&&this.peopleId&&s.get(`/field-builder/${this.peopleType}/${this.peopleId}`).then(e=>{this.fields.forEach(t=>{for(let l in e.data)l===t.name&&(t.value=e.data[l])})})},renameTextKey(e){for(let t in e)e[t].id=e[t].value,e[t].name=e[t].text;return e},parseBool:e=>!(!e||"false"===e||"0"===e)}},n=(l(657),l(1)),d=Object(n.a)(p,o,[],!1,null,null,null);d.options.__file="modules/hrm/custom-field-builder/assets/src/admin/components/PeopleExtraFields.vue";var u=d.exports,c={name:"CustomerExtraFieldsTop",components:{PeopleExtraFields:u},props:{people:{type:Object}},computed:{peopleId(){return this.people?this.people.id:0},shouldRender(){return"Customers"===this.$route.name||"CustomerDetails"===this.$route.name}}},m=Object(n.a)(c,r,[],!1,null,null,null);m.options.__file="modules/hrm/custom-field-builder/assets/src/admin/components/CustomerExtraFieldsTop.vue";var h=m.exports,v=function(){var e=this.$createElement,t=this._self._c||e;return this.shouldRender?t("people-extra-fields",{attrs:{"people-type":"customer",section:"middle","people-id":this.peopleId}}):this._e()};v._withStripped=!0;var f={name:"CustomerExtraFieldsMiddle",components:{PeopleExtraFields:u},props:{people:{type:Object}},computed:{peopleId(){return this.people?this.people.id:0},shouldRender(){return"Customers"===this.$route.name||"CustomerDetails"===this.$route.name}}},_=Object(n.a)(f,v,[],!1,null,null,null);_.options.__file="modules/hrm/custom-field-builder/assets/src/admin/components/CustomerExtraFieldsMiddle.vue";var y=_.exports,b=function(){var e=this.$createElement,t=this._self._c||e;return this.shouldRender?t("people-extra-fields",{attrs:{"people-type":"customer",section:"bottom","people-id":this.peopleId}}):this._e()};b._withStripped=!0;var x={name:"CustomerExtraFieldsBottom",components:{PeopleExtraFields:u},props:{people:{type:Object}},computed:{peopleId(){return this.people?this.people.id:0},shouldRender(){return"Customers"===this.$route.name||"CustomerDetails"===this.$route.name}}},F=Object(n.a)(x,b,[],!1,null,null,null);F.options.__file="modules/hrm/custom-field-builder/assets/src/admin/components/CustomerExtraFieldsBottom.vue";var E=F.exports,g=function(){var e=this.$createElement,t=this._self._c||e;return this.shouldRender?t("people-extra-fields",{attrs:{"people-type":"vendor",section:"top","people-id":this.peopleId}}):this._e()};g._withStripped=!0;var $={name:"VendorExtraFieldsTop",props:{people:{type:Object}},components:{PeopleExtraFields:u},computed:{peopleId(){return this.people?this.people.id:0},shouldRender(){return"Vendors"===this.$route.name||"VendorDetails"===this.$route.name}}},C=Object(n.a)($,g,[],!1,null,null,null);C.options.__file="modules/hrm/custom-field-builder/assets/src/admin/components/VendorExtraFieldsTop.vue";var P=C.exports,k=function(){var e=this.$createElement,t=this._self._c||e;return this.shouldRender?t("people-extra-fields",{attrs:{"people-type":"vendor",section:"middle","people-id":this.peopleId}}):this._e()};k._withStripped=!0;var T={name:"VendorExtraFieldsMiddle",components:{PeopleExtraFields:u},props:{people:{type:Object}},computed:{peopleId(){return this.people?this.people.id:0},shouldRender(){return"Vendors"===this.$route.name||"VendorDetails"===this.$route.name}}},w=Object(n.a)(T,k,[],!1,null,null,null);w.options.__file="modules/hrm/custom-field-builder/assets/src/admin/components/VendorExtraFieldsMiddle.vue";var S=w.exports,j=function(){var e=this.$createElement,t=this._self._c||e;return this.shouldRender?t("people-extra-fields",{attrs:{"people-type":"vendor",section:"bottom","people-id":this.peopleId}}):this._e()};j._withStripped=!0;var D={name:"VendorExtraFieldsBottom",props:{people:{type:Object}},components:{PeopleExtraFields:u},computed:{peopleId(){return this.people?this.people.id:0},shouldRender(){return"Vendors"===this.$route.name||"VendorDetails"===this.$route.name}}},O=Object(n.a)(D,j,[],!1,null,null,null);O.options.__file="modules/hrm/custom-field-builder/assets/src/admin/components/VendorExtraFieldsBottom.vue";var q=O.exports,V=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("li",{staticStyle:{display:"block"}},e._l(e.customData,(function(t,r){return l("div",{key:r},[l("strong",[e._v(e._s(e.makeTitle(r))+":")]),e._v(" "),l("span",[e._v(e._s(e.formatData(t)))])])})),0)};V._withStripped=!0;let I=acct_get_lib("HTTP");var M={name:"PeopleMetaData",props:{peopleId:{type:Number},peopleType:{type:String}},data:()=>({customData:[],customFields:[]}),created(){I.get("/field-builder",{params:{type:this.peopleType,section:"all"}}).then(e=>{e.data&&e.data.forEach(e=>{"checkbox"!==e.type&&"radio"!==e.type||(this.customFields[e.name]={type:e.type,options:e.options})})}).then(()=>{I.get(`/field-builder/${this.peopleType}/${this.peopleId}`).then(e=>{this.customData=e.data;for(let e in this.customData)if(e in this.customFields){var t=Array.isArray(this.customData[e])?this.customData[e]:[this.customData[e]];this.customData[e]=[],this.customFields[e].options.forEach(l=>{t.includes(l.value)&&this.customData[e].push(l.text)})}})})},methods:{makeTitle(e){let t=e.split("-");for(let e=0;e<t.length;e++){let l=t[e].replace("_"," ");t[e]=l.charAt(0).toUpperCase()+l.slice(1)}return t.join(" ")},formatData:e=>null==e||""===e?"":"string"==typeof e?e:Array.isArray(e)?e.join(", "):e.name}},R=Object(n.a)(M,V,[],!1,null,null,null);R.options.__file="modules/hrm/custom-field-builder/assets/src/admin/components/PeopleMetaData.vue";var B=R.exports;acct.addFilter("acctPeopleExtraFieldsTop","CustomerFieldsTop",h),acct.addFilter("acctPeopleExtraFieldsMiddle","CustomerFieldsMiddle",y),acct.addFilter("acctPeopleExtraFieldsBottom","CustomerFieldsBottom",E),acct.addFilter("acctPeopleExtraFieldsTop","VendorFieldsTop",P),acct.addFilter("acctPeopleExtraFieldsMiddle","VendorFieldsMiddle",S),acct.addFilter("acctPeopleExtraFieldsBottom","VendorFieldsBottom",q),acct.addFilter("acctPeopleMeta","PeopleMeta",B)}});