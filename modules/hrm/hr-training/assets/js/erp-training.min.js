!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=636)}({636:function(e,t){var n,i;n=jQuery,i={initialize:function(){n("#erp-training-selected-employee").on("click",this.selectEmployee),n("#erp-add-new-employee-training").on("click",this.assignEmployee),n("#erp-add-new-employee-training").on("click",this.assignEmployee),n(".erp-edit-employee-training").on("click",this.edit),n(".erp-delete-employee-training").on("click",this.delete),n(".check-incompleted-training").on("click",this.checkIncomplete),n(".training_participant").on("click",this.getParticipant)},selectEmployee:function(){n.erpPopup({title:"Add Employees",button:"Done",id:"employee-training",content:wperp.template("employee-training"),extraClass:"smaller",onReady:function(){n(".erp-select2").select2()},onSubmit:function(e){var t=n('input[name="designations"]:checked').map((function(){return n(this).val()})).get(),i=n('input[name="departments"]:checked').map((function(){return n(this).val()})).get(),a=n("#selected_employee").val();console.log(a),n("#erp-training-department").val(i),n("#erp-training-designation").val(t),n("#erp-training-selected-employee").val(a);var r={action:"erp_training_employee_count",departments:i,designations:t,employees:a};wp.ajax.send({data:r,success:function(e){n("#erp-training-selected-employee").val("Selected Employee("+e.count+")"),console.log(e)},error:function(t){e.showError(t)}}),e.closeModal()}})},assignEmployee:function(e){e.preventDefault(),n.erpPopup({title:"Assign new training",button:"Assign Training",id:"assign-new-training",content:wperp.template("employee-assign-new-training"),extraClass:"smaller",onReady:function(){n("#training-completed-date").datepicker({dateFormat:"yy-mm-dd",yearRange:"-100:+0",changeMonth:!0,changeYear:!0})},onSubmit:function(e){var t=n(this).serialize();wp.ajax.send({data:t,success:function(e){document.location.reload(!0)},erro:function(e){}}),e.closeModal()}})},edit:function(e){e.preventDefault();var t=n(this).attr("data-id"),i=n(this).attr("id");window.location.href,n.erpPopup({title:"Assign new training",button:"Update Training",id:"assign-edit-training",content:wperp.template("employee-assign-new-training"),extraClass:"smaller",onReady:function(){n("#training-completed-date").datepicker({dateFormat:"yy-mm-dd",yearRange:"-100:+0",changeMonth:!0,changeYear:!0}),n("#training-rate").keyup((function(e){var t=parseInt(e.target.max),n=parseInt(e.target.min);parseInt(e.target.value)>t&&(e.target.value=t),parseInt(e.target.value)<n&&(e.target.value=n)})),wp.ajax.send("erp_get_training",{data:{post_id:t,user_id:i},success:function(e){n("#training-id").val(e.post_id),n("#training-completed-date").val(e.erp_training_completed_date),n("#training-trainer").val(e.erp_training_trainer),n("#trainer-phone").val(e.erp_trainer_phone),n("#training-cost").val(e.erp_training_cost),n("#training-credit").val(e.erp_training_credit),n("#training-hours").val(e.erp_training_hours),n("#training-notes").val(e.erp_training_note),n("#training-rate").val(e.erp_training_rate)},erro:function(e){}})},onSubmit:function(e){n(this).serialize(),wp.ajax.send("erp_get_training",{data:n(this).serialize(),success:function(e){document.location.reload(!0)},erro:function(e){}}),e.closeModal()}})},delete:function(e){e.preventDefault(),confirm("Are sure want to incompleted this ?")&&wp.ajax.send("erp_delete_training",{data:{post_id:n(this).attr("data-id"),user_id:n(this).attr("id")},success:function(e){document.location.reload(!0)}})},checkIncomplete:function(e){if(e.preventDefault(),confirm("Are sure incompleted this ?")){var t=n(this).attr("user_id"),i={action:"erp_training_incompleted",post_id:n(this).attr("post_id"),user_id:t};wp.ajax.send({data:i,success:function(e){document.location.reload(!0)}})}},getPostId:function(){n(this).attr("id"),console.log("Hello")},getParticipant:function(e){e.preventDefault();var t=e.target.id.split("_")[1];n.erpPopup({title:"View Participants",id:"pr_id"+t,extraClass:"training_participant_popup",content:n("#training_participant_"+t).html()})}},n((function(){i.initialize()}))}});